/*!
 * CodeNegar WooCommerce AJAX Product Filter 
 *
 * Admin Panel Script File
 *
 * @package	WooCommerce AJAX Product Filter
 * @author	Farhad Ahmadi
 * @link	http://codenegar.com/go/wcpf
 * version	2.8.0
 */
;jQuery(function(){jQuery("#sidebars tr a.remove_row").live("click",function(){var k=jQuery(this).closest("tr");var i=parseInt(k.attr("data-row-id"));sidebars[i]={};k.remove();var j=JSON.stringify(sidebars);j=j.replace(/"/g,"'");jQuery("input#sidebars").val(j)});jQuery("#visible_to").live("change",function(){var i=jQuery(this);if(i.val()=="cat"){jQuery("#cat_drp").show();jQuery("#attr_drp").hide()}else{if(i.val()=="attr"){jQuery("#cat_drp").hide();jQuery("#attr_drp").show()}else{if(i.val()=="all"){jQuery("#cat_drp").hide();jQuery("#attr_drp").hide()}}}});var g=jQuery("#sidebar_title"),d=jQuery("#visible_to"),e=jQuery("#attrib"),b=jQuery("#cat"),f=jQuery([]).add(g).add(d).add(e).add(b),a=jQuery(".validateTips");function h(k,l,j,i){if(k.val().length>i||k.val().length<j){k.addClass("ui-state-error");return false}else{return true}}function c(k,i,j){sidebar={title:k,visible_to:i,apply_to:j};sidebars.push(sidebar)}jQuery("#dialog-form").dialog({autoOpen:false,width:380,height:420,modal:true,buttons:[{text:wcpf_words.create_sidebar,click:function(){var j=true;f.removeClass("ui-state-error");j=j&&h(g,"title",1,30);if(j){var k=sidebars.length;var l=0;if(d.val()=="cat"){l=(b.val()!=null)?b.val():0}else{if(d.val()=="attr"){l=(e.val()!=null)?b.val():0}}jQuery("#sidebars tbody").append('<tr data-row-id="'+k+'"><td>'+g.val().toLowerCase()+"</td><td>"+d.find("option:selected").text()+"</td><td>[ajax_product_filter data="+g.val().toLowerCase()+":"+d.val()+":"+l+']</td><td><a href="#" class="remove_row">'+wcpf_words.remove+"</a></td></tr>");c(g.val().toLowerCase(),d.val(),l);var i=JSON.stringify(sidebars);i=i.replace(/"/g,"'");jQuery("input#sidebars").val(i);jQuery(this).dialog("close")}}},{text:wcpf_words.cancel,click:function(){jQuery(this).dialog("close")}}],close:function(){f.val("").removeClass("ui-state-error")}});jQuery("#create-sidebar").button().click(function(i){i.preventDefault();jQuery("#dialog-form").dialog("open")})});jQuery(function(){jQuery("form input").keypress(function(a){if((a.which&&a.which==13)||(a.keyCode&&a.keyCode==13)){jQuery("input[type=submit].default_submit").click();return false}else{return true}})});css_editor="";js_editor="";jQuery(document).ready(function(a){css_editor=ace.edit("div_custom_css");css_editor.getSession().setMode("ace/mode/css");css_editor.setValue(a("#custom_css").val());css_editor.getSession().on("change",function(b){a("#custom_css").val(css_editor.getValue())});js_editor=ace.edit("div_custom_js");js_editor.getSession().setMode("ace/mode/javascript");js_editor.setValue(a("#custom_js").val());js_editor.getSession().on("change",function(b){a("#custom_js").val(js_editor.getValue())})});